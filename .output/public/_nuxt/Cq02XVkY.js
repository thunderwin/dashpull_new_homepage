import{_ as X}from"./DlAUqK2U.js";import{x as m,X as l,am as u,z as P,y as ae,W as w,Y as o,Z as S,al as k,D as t,d as H,r as ie,L as r,a3 as $,ag as v,ah as le,af as Q,J as F,an as M,Q as J,ao as ne}from"./B_AaASQX.js";import{_ as re,a as oe}from"./BWKaQ9BV.js";import{a as j,t as W,Q as ce,P as L,D as Y,i as ue,_ as de,e as Z,R as pe,w as I,J as me,E as fe,G as _e,H as ge,K as xe,N as ve}from"./ASfP1MiU.js";import{o as be,s as ye,_ as he}from"./CkWMrgKH.js";import{_ as ee}from"./PeEvRM14.js";const ke={},$e={class:"stars size-full absolute pointer-events-none inset-x-0 top-0 opacity-75"};function we(i,a){return l(),m("div",$e,a[0]||(a[0]=[u("div",{class:"h-px w-px rounded-full bg-transparent"},null,-1),u("div",{class:"h-px w-px rounded-full bg-transparent"},null,-1),u("div",{class:"h-px w-px rounded-full bg-transparent"},null,-1)]))}const Ce=Object.assign(X(ke,[["render",we],["__scopeId","data-v-076ba62c"]]),{__name:"StarsBg"}),qe={base:"relative",variants:{size:{xs:"",sm:"",md:"",lg:"",xl:""},orientation:{horizontal:"inline-flex -space-x-px",vertical:"flex flex-col -space-y-px"}}},Ue={__name:"UButtonGroup",props:{as:{type:null,required:!1},size:{type:null,required:!1},orientation:{type:null,required:!1,default:"horizontal"},class:{type:null,required:!1},ui:{type:null,required:!1}},setup(i){const a=i,d=j(),f=P(()=>{var s;return W({extend:W(qe),...((s=d.ui)==null?void 0:s.buttonGroup)||{}})});return ae(ce,P(()=>({orientation:a.orientation,size:a.size}))),(s,e)=>(l(),w(t(L),{as:i.as,class:k(f.value({orientation:i.orientation,class:a.class}))},{default:o(()=>[S(s.$slots,"default")]),_:3},8,["as","class"]))}},ze={class:"relative"},Pe={class:"text-center space-y-6"},Se={class:"space-y-3"},Ae={class:"text-3xl font-bold text-gray-900 dark:text-white"},Te={class:"text-lg text-gray-600 dark:text-gray-300 max-w-2xl mx-auto"},Be={class:"hidden md:block w-full max-w-lg"},Ve={key:0},Ee={key:1},Ie={class:"md:hidden w-full max-w-sm space-y-3"},Ge={key:0},Re={key:1},De={key:0,class:"p-4 bg-green-50 dark:bg-green-950 rounded-lg border border-green-200 dark:border-green-800"},je={class:"flex items-center space-x-2"},Le={class:"text-green-800 dark:text-green-200 font-medium"},Ne={key:1,class:"p-4 bg-red-50 dark:bg-red-950 rounded-lg border border-red-200 dark:border-red-800"},He={class:"flex items-center space-x-2"},Fe={class:"text-red-800 dark:text-red-200 font-medium"},Me={class:"text-sm text-gray-500 dark:text-gray-400 mt-2"},Je={__name:"EmailSubscription",props:{title:{type:String,default:""},description:{type:String,default:""}},setup(i){const{t:a,locale:d}=Y(),f=pe(),s=H(!1),e=H(""),C=H(!1),p=ie({email:""}),A=P(()=>be({email:ye().min(1,a("email_subscription.validation.required")||"请输入邮箱地址").email(a("email_subscription.validation.email")||"请输入有效的邮箱地址")})),h=P(()=>p.email?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(p.email):!0),q=P(()=>p.email?h.value?"primary":"red":"primary"),b=async(c=null)=>{var g,_,x,y,U,T,B,z,V,E,K;s.value=!0,e.value="",C.value=!1,console.log("表单提交数据:",c),console.log("当前state:",p);try{const n=(g=p.email)==null?void 0:g.trim();if(!n){e.value="请输入邮箱地址",s.value=!1;return}if(!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)){e.value="请输入有效的邮箱地址",s.value=!1;return}const se=navigator.userAgent,D=document.referrer,G={data:{email:n,status:"pending",source:"website",language:d.value||"zh"}},R=`${f.public.strapiApiUrl||"https://api.dashpull.com"}/api/email-subscriptions`;console.log("API请求详情:",{endpoint:R,requestData:G,token:f.public.strapiApiToken?"已配置":"未配置"});const O=await $fetch(R,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${f.public.strapiApiToken}`},body:G});O&&O.data&&(C.value=!0,p.email="",setTimeout(()=>{C.value=!1},5e3))}catch(n){console.error("Failed to subscribe:",n),console.error("Error details:",{status:n.status,statusCode:n.statusCode,data:n.data,message:n.message}),n.status===400||n.statusCode===400?(y=(x=(_=n.data)==null?void 0:_.error)==null?void 0:x.details)!=null&&y.errors?n.data.error.details.errors.find(D=>{var G,N,R;return((G=D.message)==null?void 0:G.includes("unique"))||((N=D.message)==null?void 0:N.includes("must be unique"))||((R=D.path)==null?void 0:R.includes("email"))})?e.value=a("email_subscription.error.duplicate"):e.value="输入数据验证失败，请检查邮箱格式":(B=(T=(U=n.data)==null?void 0:U.error)==null?void 0:T.message)!=null&&B.includes("unique")?e.value=a("email_subscription.error.duplicate"):(V=(z=n.data)==null?void 0:z.error)!=null&&V.message?e.value=n.data.error.message:e.value="请求数据格式错误，请检查邮箱格式":n.status===401||n.statusCode===401?e.value="API认证失败，请联系管理员":n.status===409||n.statusCode===409||(E=n.message)!=null&&E.includes("duplicate")||(K=n.message)!=null&&K.includes("unique")?e.value=a("email_subscription.error.duplicate"):e.value=a("email_subscription.error.general")}finally{s.value=!1}};return(c,g)=>{const _=ue,x=de,y=Z,U=Ue,T=he,B=ee;return l(),m("div",ze,[r(B,{variant:"subtle",class:"rounded-2xl bg-gradient-to-br from-primary-50 to-blue-50 dark:from-primary-950 dark:to-blue-950 border-primary-200 dark:border-primary-800"},{default:o(()=>[u("div",Pe,[u("div",Se,[r(_,{name:"i-lucide-mail",class:"mx-auto h-12 w-12 text-primary-500"}),u("h3",Ae,v(i.title||c.$t("email_subscription.title")),1),u("p",Te,v(i.description||c.$t("email_subscription.description")),1)]),r(T,{schema:t(A),state:t(p),class:"max-w-xl mx-auto flex flex-col items-center gap-4"},{default:o(()=>[u("div",Be,[r(U,{size:"xl",class:"w-full"},{default:o(()=>[r(x,{modelValue:t(p).email,"onUpdate:modelValue":g[0]||(g[0]=z=>t(p).email=z),placeholder:c.$t("email_subscription.email_placeholder"),icon:"i-lucide-mail",size:"xl",disabled:t(s),color:t(q),class:"flex-1 large-input",autocomplete:"email",type:"email",name:"email"},null,8,["modelValue","placeholder","disabled","color"]),r(y,{type:"button",loading:t(s),disabled:t(s)||!t(h),class:"px-10 py-4 text-lg",color:"primary",size:"xl",onClick:b},{leading:o(()=>[t(s)?$("",!0):(l(),w(_,{key:0,name:"i-lucide-send",class:"h-6 w-6"}))]),default:o(()=>[t(s)?(l(),m("span",Ee,v(c.$t("common.loading")),1)):(l(),m("span",Ve,v(c.$t("email_subscription.submit_button")),1))]),_:1},8,["loading","disabled"])]),_:1})]),u("div",Ie,[r(x,{modelValue:t(p).email,"onUpdate:modelValue":g[1]||(g[1]=z=>t(p).email=z),placeholder:c.$t("email_subscription.email_placeholder"),icon:"i-lucide-mail",size:"xl",disabled:t(s),color:t(q),class:"w-full large-input-mobile",autocomplete:"email",type:"email",name:"email"},null,8,["modelValue","placeholder","disabled","color"]),r(y,{type:"button",loading:t(s),disabled:t(s)||!t(h),class:"w-full py-4 text-lg mt-4 text-center",color:"primary",size:"xl",onClick:b},{leading:o(()=>[t(s)?$("",!0):(l(),w(_,{key:0,name:"i-lucide-send",class:"h-6 w-6"}))]),default:o(()=>[t(s)?(l(),m("span",Re,v(c.$t("common.loading")),1)):(l(),m("span",Ge,v(c.$t("email_subscription.submit_button")),1))]),_:1},8,["loading","disabled"])])]),_:1},8,["schema","state"]),t(C)?(l(),m("div",De,[u("div",je,[r(_,{name:"i-lucide-check-circle",class:"h-5 w-5 text-green-600 dark:text-green-400"}),u("p",Le,v(c.$t("email_subscription.success_message")),1)])])):$("",!0),t(e)?(l(),m("div",Ne,[u("div",He,[r(_,{name:"i-lucide-alert-circle",class:"h-5 w-5 text-red-600 dark:text-red-400"}),u("p",Fe,v(t(e)),1)])])):$("",!0),u("p",Me,v(c.$t("email_subscription.privacy_note")),1)])]),_:1})])}}},Ke=X(Je,[["__scopeId","data-v-366579fe"]]),Oe={base:"relative grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-8"},Qe={__name:"UPageGrid",props:{as:{type:null,required:!1},class:{type:null,required:!1}},setup(i){const a=i,d=j(),f=P(()=>{var s;return I({extend:I(Oe),...((s=d.uiPro)==null?void 0:s.pageGrid)||{}})});return(s,e)=>(l(),w(t(L),{as:i.as,class:k(f.value({class:a.class}))},{default:o(()=>[S(s.$slots,"default")]),_:3},8,["as","class"]))}},We={base:"relative column-1 md:columns-2 lg:columns-3 gap-8 space-y-8 *:break-inside-avoid-column *:will-change-transform"},Xe={__name:"UPageColumns",props:{as:{type:null,required:!1},class:{type:null,required:!1}},setup(i){const a=i,d=j(),f=P(()=>{var s;return I({extend:I(We),...((s=d.uiPro)==null?void 0:s.pageColumns)||{}})});return(s,e)=>(l(),w(t(L),{as:i.as,class:k(f.value({class:a.class}))},{default:o(()=>[S(s.$slots,"default")]),_:3},8,["as","class"]))}},Ye={slots:{root:"relative isolate rounded-xl overflow-hidden",container:"flex flex-col lg:grid px-6 py-12 sm:px-12 sm:py-24 lg:px-16 lg:py-24 gap-8 sm:gap-16",wrapper:"",title:"text-3xl sm:text-4xl text-pretty tracking-tight font-bold text-highlighted",description:"text-base sm:text-lg text-muted",links:"mt-8 flex flex-wrap gap-x-6 gap-y-3"},variants:{orientation:{horizontal:{container:"lg:grid-cols-2 lg:items-center",description:"text-pretty"},vertical:{container:"",title:"text-center",description:"text-center text-balance",links:"justify-center"}},reverse:{true:{wrapper:"lg:order-last"}},variant:{solid:{root:"bg-inverted text-inverted",title:"text-inverted",description:"text-dimmed"},outline:{root:"bg-default ring ring-default",description:"text-muted"},soft:{root:"bg-elevated/50",description:"text-toned"},subtle:{root:"bg-elevated/50 ring ring-default",description:"text-toned"},naked:{description:"text-muted"}},title:{true:{description:"mt-6"}}},defaultVariants:{variant:"outline"}},Ze={key:1,class:"hidden lg:block"},et={__name:"UPageCTA",props:{as:{type:null,required:!1},class:{type:null,required:!1},title:{type:String,required:!1},description:{type:String,required:!1},orientation:{type:null,required:!1,default:"vertical"},reverse:{type:Boolean,required:!1,default:!1},variant:{type:null,required:!1},links:{type:Array,required:!1},ui:{type:null,required:!1}},setup(i){const a=i,d=le(),f=j(),s=P(()=>{var e;return I({extend:I(Ye),...((e=f.uiPro)==null?void 0:e.pageCTA)||{}})({variant:a.variant,orientation:a.orientation,reverse:a.reverse,title:!!a.title||!!d.title})});return(e,C)=>{var h;const p=Z,A=me;return l(),w(t(L),{as:i.as,"data-orientation":i.orientation,class:k(s.value.root({class:[(h=a.ui)==null?void 0:h.root,a.class]}))},{default:o(()=>{var q;return[r(A,{class:k(s.value.container({class:(q=a.ui)==null?void 0:q.container}))},{default:o(()=>{var b,c,g,_,x;return[u("div",{class:k(s.value.wrapper({class:(b=a.ui)==null?void 0:b.wrapper}))},[i.title||d.title?(l(),m("h2",{key:0,class:k(s.value.title({class:(c=a.ui)==null?void 0:c.title}))},[S(e.$slots,"title",{},()=>[Q(v(i.title),1)])],2)):$("",!0),i.description||d.description?(l(),m("div",{key:1,class:k(s.value.description({class:(g=a.ui)==null?void 0:g.description}))},[S(e.$slots,"description",{},()=>[Q(v(i.description),1)])],2)):$("",!0),(_=i.links)!=null&&_.length||d.links?(l(),m("div",{key:2,class:k(s.value.links({class:(x=a.ui)==null?void 0:x.links}))},[S(e.$slots,"links",{},()=>[(l(!0),m(F,null,M(i.links,(y,U)=>(l(),w(p,J({key:U,size:"lg"},{ref_for:!0},y),null,16))),128))])],2)):$("",!0)],2),d.default?S(e.$slots,"default",{key:0}):i.orientation==="horizontal"?(l(),m("div",Ze)):$("",!0)]}),_:3},8,["class"])]}),_:3},8,["as","data-orientation","class"])}}},tt={key:0},st=["innerHTML"],ct={__name:"index",async setup(i){var C,p,A,h;let a,d;const{locale:f,defaultLocale:s}=Y();fe();const{data:e}=([a,d]=ne(()=>ge(()=>`index-${f.value}`,()=>xe("index").where("locale","=",f.value).first(),"$orW8SXrfeA")),a=await a,d(),a);return _e({titleTemplate:"",title:(C=e.value)==null?void 0:C.title,ogTitle:(p=e.value)==null?void 0:p.title,description:(A=e.value)==null?void 0:A.description,ogDescription:(h=e.value)==null?void 0:h.description}),(q,b)=>{const c=Ce,g=re,_=Ke,x=oe,y=ee,U=Qe,T=Xe,B=ve,z=et;return t(e)?(l(),m("div",tt,[r(g,{title:t(e).hero.title,description:t(e).hero.description,links:t(e).hero.links},{top:o(()=>[b[0]||(b[0]=u("div",{class:"absolute rounded-full dark:bg-(--ui-primary) blur-[300px] size-60 sm:size-80 transform -translate-x-1/2 left-1/2 -translate-y-80"},null,-1)),r(c)]),_:1},8,["title","description","links"]),r(x,{id:"email-subscription"},{default:o(()=>[r(_,{title:q.$t("email_subscription.title"),description:q.$t("email_subscription.description")},null,8,["title","description"])]),_:1}),r(x,{title:t(e).features.title,description:t(e).features.description},{default:o(()=>[r(U,null,{default:o(()=>[(l(!0),m(F,null,M(t(e).features.items,(V,E)=>(l(),w(y,J({key:E},{ref_for:!0},V,{spotlight:""}),null,16))),128))]),_:1})]),_:1},8,["title","description"]),r(x,{id:"testimonials",headline:t(e).testimonials.headline,title:t(e).testimonials.title,description:t(e).testimonials.description},{default:o(()=>[r(T,{class:"xl:columns-4"},{default:o(()=>[(l(!0),m(F,null,M(t(e).testimonials.items,(V,E)=>(l(),w(y,{key:E,variant:"subtle"},{description:o(()=>[u("div",{innerHTML:V.quote},null,8,st)]),_:2},1024))),128))]),_:1})]),_:1},8,["headline","title","description"]),r(B),r(z,J(t(e).cta,{variant:"naked",class:"overflow-hidden"}),{default:o(()=>[b[1]||(b[1]=u("div",{class:"absolute rounded-full dark:bg-(--ui-primary) blur-[250px] size-40 sm:size-50 transform -translate-x-1/2 left-1/2 -translate-y-80"},null,-1)),r(c)]),_:1,__:[1]},16)])):$("",!0)}}};export{ct as default};
