import{ad as $,R as C,aE as f}from"./Ds69_had.js";import{d as c,z as R,u as M,F as P,x as r,am as e,ag as a,al as i,a3 as E,J as b,an as j,X as o}from"./B_AaASQX.js";const A={class:"min-h-screen bg-gray-50 dark:bg-gray-900 py-8"},z={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},D={class:"text-center mb-8"},F={class:"text-4xl font-bold text-gray-900 dark:text-white mb-4"},B={class:"grid grid-cols-2 md:grid-cols-4 lg:grid-cols-7 gap-4 mb-8"},N={class:"bg-white dark:bg-gray-800 rounded-lg p-4 text-center shadow-sm"},T={class:"text-2xl font-bold text-gray-900 dark:text-white"},U={class:"text-sm text-gray-600 dark:text-gray-300"},L={class:"bg-white dark:bg-gray-800 rounded-lg p-4 text-center shadow-sm"},V={class:"text-2xl font-bold text-blue-600"},W={class:"text-sm text-gray-600 dark:text-gray-300"},H={class:"bg-white dark:bg-gray-800 rounded-lg p-4 text-center shadow-sm"},I={class:"text-2xl font-bold text-orange-600"},G={class:"text-sm text-gray-600 dark:text-gray-300"},J={class:"bg-white dark:bg-gray-800 rounded-lg p-4 text-center shadow-sm"},X={class:"text-2xl font-bold text-green-600"},q={class:"text-sm text-gray-600 dark:text-gray-300"},O={class:"bg-white dark:bg-gray-800 rounded-lg p-4 text-center shadow-sm"},Q={class:"text-2xl font-bold text-red-600"},Y={class:"text-sm text-gray-600 dark:text-gray-300"},Z={class:"bg-white dark:bg-gray-800 rounded-lg p-4 text-center shadow-sm"},S={class:"text-2xl font-bold text-blue-600"},K={class:"text-sm text-gray-600 dark:text-gray-300"},ee={class:"bg-white dark:bg-gray-800 rounded-lg p-4 text-center shadow-sm"},te={class:"text-sm text-gray-600 dark:text-gray-300"},se={key:0,class:"flex items-center justify-center py-12"},ae={class:"ml-3 text-gray-600 dark:text-gray-300"},re={key:1,class:"text-center py-12"},oe={class:"text-red-600 dark:text-red-400 mb-4"},ne={key:2,class:"bg-white dark:bg-gray-800 rounded-lg shadow-sm overflow-hidden"},de={class:"overflow-x-auto"},ie={class:"min-w-full divide-y divide-gray-200 dark:divide-gray-700"},le={class:"bg-gray-50 dark:bg-gray-700 hidden md:table-header-group"},ce={class:"w-1/5 px-4 py-4 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},xe={class:"w-1/5 px-4 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},ge={class:"w-1/5 px-4 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},ue={class:"w-1/5 px-4 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},pe={class:"w-1/5 px-4 py-4 text-center text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider"},ye={class:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700"},_e={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white"},he={class:"px-4 py-4 whitespace-nowrap text-center"},me={key:0,class:"text-gray-400 text-xs"},ve={key:1,class:"text-orange-500 text-xs"},ke={key:2,class:"text-gray-400 text-xs"},fe={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-center"},be={class:"px-4 py-4 whitespace-nowrap text-sm text-gray-900 dark:text-white text-center"},we={key:0,class:"text-gray-400"},$e={key:1,class:"text-gray-400"},Ce={key:3,class:"text-gray-400"},Re={class:"px-4 py-4 whitespace-nowrap text-center"},Me={key:0,class:"text-gray-400 text-xs"},Pe={key:1,class:"text-orange-500 text-xs"},Ee={key:3,class:"text-gray-400 text-xs"},je={key:1,class:"px-3 py-3 w-full",colspan:"5"},Ae={class:"flex flex-col space-y-2"},ze={class:"flex items-center justify-between"},De={class:"text-sm font-medium text-gray-900 dark:text-white"},Fe={class:"flex items-center space-x-2"},Be={key:0,class:"text-gray-400 text-xs"},Ne={key:1,class:"text-orange-500 text-xs"},Te={key:2,class:"text-gray-400 text-xs"},Ue={class:"flex items-center justify-between text-sm"},Le={class:"flex items-center space-x-4"},Ve={class:"flex items-center space-x-1"},We={class:"flex items-center space-x-1"},He={key:0,class:"text-gray-400"},Ie={key:1,class:"text-gray-400"},Ge={key:3,class:"text-gray-400"},Je={key:0,class:"text-gray-400 text-xs"},Xe={key:1,class:"text-orange-500 text-xs"},qe={key:3,class:"text-gray-400 text-xs"},Oe={key:0,class:"text-center py-12"},Qe={class:"text-gray-600 dark:text-gray-300"},Ke={__name:"predictions",setup(Ye){const x=c([]),d=c({totalRecords:0,tradedCount:0,eventCount:0,longCount:0,shortCount:0,winRate:0,averageProfitRate:null}),u=c(!0),p=c(!1),_=c(0),w=R(()=>_.value<768),y=()=>{_.value=window.innerWidth},h=s=>{try{const{$t:n}=f();return n(`predictions.events.${s}`,s)}catch(n){return console.warn("Translation error for event:",s,n),s||"Unknown Event"}},m=async()=>{u.value=!0,p.value=!1;try{const s=C(),t=`${s.public.strapiApiUrl||"https://api.dashpull.com"}/api/human-predicts-statistics`,g=s.public.strapiApiToken||"d500bca2021bcb781b01959a2b5c7eca35104ead14e5a1c7a113e1b77030a9d798e3d0ea3be290c20050d000ac5d7c6cc021e57eda01e40b3c545e2d8da2b6c4b75ead96fa5e3ac2cae31ae76de74415371a7928094e271535d1ef786a1f2216e745df26d4aacf85021f5b86c9f2fe92644a9fa5a1f9d63699e43340409661ff",k={"Content-Type":"application/json"};g&&(k.Authorization=`Bearer ${g}`);const l=await $fetch(t,{method:"GET",headers:k,retry:3,timeout:1e4});if(l&&typeof l=="object")x.value=Array.isArray(l.predictions)?l.predictions:[],d.value=l.statistics&&typeof l.statistics=="object"?l.statistics:{totalRecords:0,tradedCount:0,eventCount:0,longCount:0,shortCount:0,winRate:0,averageProfitRate:null};else throw new Error("Invalid response format")}catch(s){console.error("Failed to fetch predictions:",s),p.value=!0,x.value=[],d.value={totalRecords:0,tradedCount:0,eventCount:0,longCount:0,shortCount:0,winRate:0,averageProfitRate:null}}finally{u.value=!1}},v=s=>{try{if(!s)return"";const n=new Date(s);if(isNaN(n.getTime()))return s;const{$i18n:t}=f();return n.toLocaleDateString(t.locale,{year:"numeric",month:"short",day:"numeric"})}catch(n){return console.warn("Date formatting error:",n),s||""}};return M(()=>{m(),y(),window.addEventListener("resize",y)}),P(()=>{window.removeEventListener("resize",y)}),$({title:"预测历史 - DashPull",meta:[{name:"description",content:"AI 预测历史记录，查看最近100次预测结果和统计数据"}]}),(s,n)=>(o(),r("div",A,[e("div",z,[e("div",D,[e("h1",F,a(s.$t("predictions.title")),1)]),e("div",B,[e("div",N,[e("div",T,a(d.value.totalRecords||0),1),e("div",U,a(s.$t("predictions.total_records")),1)]),e("div",L,[e("div",V,a(d.value.tradedCount||0),1),e("div",W,a(s.$t("predictions.trading_count")),1)]),e("div",H,[e("div",I,a(d.value.eventCount||0),1),e("div",G,a(s.$t("predictions.event_predictions")),1)]),e("div",J,[e("div",X,a(d.value.longCount||0),1),e("div",q,a(s.$t("predictions.long_predictions")),1)]),e("div",O,[e("div",Q,a(d.value.shortCount||0),1),e("div",Y,a(s.$t("predictions.short_predictions")),1)]),e("div",Z,[e("div",S,a(d.value.winRate||0)+"%",1),e("div",K,a(s.$t("predictions.win_rate")),1)]),e("div",ee,[e("div",{class:i(["text-2xl font-bold",(d.value.averageProfitRate||0)>=0?"text-green-600":"text-red-600"])},a(d.value.averageProfitRate!==null?((d.value.averageProfitRate||0)>=0?"+":"")+(d.value.averageProfitRate||0).toFixed(2)+"%":"-"),3),e("div",te,a(s.$t("predictions.average_profit_rate")),1)])]),u.value?(o(),r("div",se,[n[0]||(n[0]=e("div",{class:"w-8 h-8 border-2 border-blue-600 border-t-transparent rounded-full animate-spin"},null,-1)),e("span",ae,a(s.$t("prediction_component.loading")),1)])):p.value?(o(),r("div",re,[e("p",oe,a(s.$t("prediction_component.error")),1),e("button",{onClick:m,class:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors"},a(s.$t("common.refresh")),1)])):(o(),r("div",ne,[e("div",de,[e("table",ie,[e("thead",le,[e("tr",null,[e("th",ce,a(s.$t("predictions.date")),1),e("th",xe,a(s.$t("predictions.prediction")),1),e("th",ge,a(s.$t("predictions.long_short_score")),1),e("th",ue,a(s.$t("predictions.profit_rate")),1),e("th",pe,a(s.$t("predictions.result")),1)])]),e("tbody",ye,[(o(!0),r(b,null,j(x.value,(t,g)=>(o(),r("tr",{key:g,class:"hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors"},[w.value?(o(),r("td",je,[e("div",Ae,[e("div",ze,[e("div",De,a(v(t.day)),1),e("div",Fe,[Math.abs(t.market_score||0)<.15?(o(),r("span",Be,a(s.$t("predictions.no_direction")),1)):t.events&&t.events!=="none"?(o(),r("span",Ne,a(h(t.events)),1)):t.side?(o(),r("span",{key:3,class:i(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",t.side==="long"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"])},a(t.side==="long"?s.$t("prediction_component.side_long"):s.$t("prediction_component.side_short")),3)):(o(),r("span",Te,a(s.$t("predictions.hidden")),1))])]),e("div",Ue,[e("div",Le,[e("div",Ve,[n[1]||(n[1]=e("span",{class:"text-gray-500 dark:text-gray-400"},"评分:",-1)),e("span",{class:i((t.market_score||0)>0?"text-green-600":"text-red-600")},a(t.market_score||"-"),3)]),e("div",We,[n[2]||(n[2]=e("span",{class:"text-gray-500 dark:text-gray-400"},"收益:",-1)),Math.abs(t.market_score||0)<.15?(o(),r("span",He,"-")):t.events&&t.events!=="none"?(o(),r("span",Ie,"-")):t.profit_rate!==null&&t.profit_rate!==void 0?(o(),r("span",{key:2,class:i((t.profit_rate||0)>=0?"text-green-600":"text-red-600")},a(((t.profit_rate||0)>=0?"+":"")+(t.profit_rate||0).toFixed(2))+"% ",3)):(o(),r("span",Ge,"-"))])]),e("div",null,[Math.abs(t.market_score||0)<.15?(o(),r("span",Je,a(s.$t("predictions.break")),1)):t.events&&t.events!=="none"?(o(),r("span",Xe,a(s.$t("predictions.event")),1)):t.result&&t.result!==null?(o(),r("span",{key:2,class:i(["inline-flex items-center px-2 py-0.5 rounded-full text-xs font-medium",t.result==="yes"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":t.result==="no"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"])},a(t.result==="yes"?"✓ "+s.$t("predictions.win"):t.result==="no"?"✗ "+s.$t("predictions.loss"):"⊕ "+s.$t("predictions.stop_loss")),3)):(o(),r("span",qe,a(s.$t("predictions.pending")),1))])])])])):(o(),r(b,{key:0},[e("td",_e,a(v(t.day)),1),e("td",he,[Math.abs(t.market_score||0)<.15?(o(),r("span",me,a(s.$t("predictions.no_direction")),1)):t.events&&t.events!=="none"?(o(),r("span",ve,a(h(t.events)),1)):t.side?(o(),r("span",{key:3,class:i(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",t.side==="long"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"])},a(t.side==="long"?s.$t("prediction_component.side_long"):s.$t("prediction_component.side_short")),3)):(o(),r("span",ke,a(s.$t("predictions.hidden")),1))]),e("td",fe,[e("span",{class:i((t.market_score||0)>0?"text-green-600":"text-red-600")},a(t.market_score||"-"),3)]),e("td",be,[Math.abs(t.market_score||0)<.15?(o(),r("span",we," - ")):t.events&&t.events!=="none"?(o(),r("span",$e," - ")):t.profit_rate!==null&&t.profit_rate!==void 0?(o(),r("span",{key:2,class:i(t.profit_rate>=0?"text-green-600":"text-red-600")},a((t.profit_rate>=0?"+":"")+t.profit_rate.toFixed(2))+"% ",3)):(o(),r("span",Ce," - "))]),e("td",Re,[Math.abs(t.market_score||0)<.15?(o(),r("span",Me,a(s.$t("predictions.break")),1)):t.events&&t.events!=="none"?(o(),r("span",Pe,a(s.$t("predictions.event")),1)):t.result&&t.result!==null?(o(),r("span",{key:2,class:i(["inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium",t.result==="yes"?"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200":t.result==="no"?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200"])},a(t.result==="yes"?"✓ "+s.$t("predictions.win"):t.result==="no"?"✗ "+s.$t("predictions.loss"):"⊕ "+s.$t("predictions.stop_loss")),3)):(o(),r("span",Ee,a(s.$t("predictions.pending")),1))])],64))]))),128))])])]),x.value.length===0?(o(),r("div",Oe,[n[3]||(n[3]=e("div",{class:"text-gray-400 mb-2"},[e("svg",{class:"w-12 h-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 17v-2m3 2v-4m3 4v-6m2 10H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})])],-1)),e("p",Qe,a(s.$t("common.no_data")),1)])):E("",!0)]))])]))}};export{Ke as default};
